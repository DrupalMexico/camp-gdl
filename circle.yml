########################
# Customize the test machine
########################
machine:

  # Set the timezeone - any value from /usr/share/zoneinfo/ is valid here
  timezone:
    America/Mexico_City

  # Version of php to use
  php:
    version: 5.5.11

  environment:
    PATH: '$HOME/.composer/vendor/bin:$PATH'
    PROJECT_PATH: '$HOME/$CIRCLE_PROJECT_REPONAME'
    PROJECT_DRUPAL_PATH: '$PROJECT_PATH/docroot'

dependencies:
  pre:
    - sudo curl https://github.com/pantheon-systems/cli/releases/download/0.9.3/terminus.phar -L -o /usr/local/bin/terminus && sudo chmod +x /usr/local/bin/terminus
    - sudo curl https://github.com/hechoendrupal/DrupalConsole/releases/download/0.9.7/console.phar -L -o /usr/local/bin/drupal && sudo chmod +x /usr/local/bin/drupal
    - terminus
    - drupal list
    #install Drush
    #- composer global require drush/drush:6.2.0
    #- export PATH="$HOME/.composer/vendor/bin:$PATH"

    #install site (make dump of DB)
    #- drush -r /home/ubuntu/axtelcircleci/docroot -y si standard --account-name=admin --account-pass=admin --db-url=mysql://ubuntu:@127.0.0.1/circle_test
    #move drush alias to container ~.drush
    #- mv /home/ubuntu/axtelcircleci/.drush /home/ubuntu/.

    #set settings php
    #- mv /home/ubuntu/axtelcircleci/docroot/sites/default/test_settings.php /home/ubuntu/axtelcircleci/docroot/sites/default/settings.php

    #sync db site
    #- drush -r /home/ubuntu/axtelcircleci/docroot -y sql-sync @axtelcircleci.dev @self


    #- drush -r /home/ubuntu/axtelcircleci/docroot -y en simpletest
